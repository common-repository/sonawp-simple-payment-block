!function(){"use strict";var e=window.wp.blocks,a=window.wp.element,l=window.wp.i18n,t=window.wp.blockEditor,n=window.wp.components;(0,e.registerBlockType)("sona/sonawp",{edit:function(e){let{attributes:o,setAttributes:r,clientId:s,isSelected:m}=e;React.useEffect((()=>{o.blockID||r({blockID:s})}),[]);const c=e=>{const a=e.map((e=>({id:e.id,url:e.url,alt:e.alt})));r({images:a})},p=e=>{r({title:e})},i=e=>{r({description:e})},d=e=>{r({price:e})},u=e=>{r({payeeEmail:e})},y=[{label:"USD $",value:"USD",symbol:"$"},{label:"EUR €",value:"EUR",symbol:"€"},{label:"AUD A$",value:"AUD",symbol:"A$"},{label:"BRL R$",value:"BRL",symbol:"R$"},{label:"CAD C$",value:"CAD",symbol:"C$"},{label:"CZK Kč",value:"CZK",symbol:"Kč"},{label:"DKK kr",value:"DKK",symbol:"kr"},{label:"HKD HK$",value:"HKD",symbol:"HK"},{label:"HUF Ft",value:"HUF",symbol:"Ft"},{label:"ILS ₪",value:"ILS",symbol:"₪"},{label:"JPY ¥",value:"JPY",symbol:"¥"},{label:"MYR RM",value:"MYR",symbol:"RM"},{label:"MXN MX$",value:"MXN",symbol:"MX"},{label:"TWD NT$",value:"TWD",symbol:"NT"},{label:"NZD NZ$",value:"NZD",symbol:"NZ"},{label:"NOK kr",value:"NOK",symbol:"kr"},{label:"PHP ₱",value:"PHP",symbol:"₱"},{label:"PLN zł",value:"PLN",symbol:"zł"},{label:"GBP £",value:"GBP",symbol:"£"},{label:"RUB ₽",value:"RUB",symbol:"₽"},{label:"SGD S$",value:"SGD",symbol:"S$"},{label:"SEK kr",value:"SEK",symbol:"kr"},{label:"CHF CHf",value:"CHF",symbol:"CHf"},{label:"THB ฿",value:"THB",symbol:"฿"}],E=(y.map((e=>({label:e.label,value:e.value,symbol:e.symbol}))),!["HUF","JPY","TWD"].includes(o.currency)||!/\./.test(o.price));return m?(0,a.createElement)(a.Fragment,null,(0,a.createElement)(t.InspectorControls,null,(0,a.createElement)(n.PanelBody,{title:"Configure",initialOpen:!0},(0,a.createElement)(n.CheckboxControl,{label:"Paypal Button",help:(0,l.__)("Rendered Paypal Button on FrontEnd!","sonawp"),checked:o.paypal,onChange:e=>{r({paypal:e?"paypal":""})}}),(0,a.createElement)(n.CheckboxControl,{label:"PayLater Button",help:(0,l.__)("Rendered PayLater Button on FrontEnd!","sonawp"),checked:o.paylater,onChange:e=>{r({paylater:e?"paylater":""})}}),(0,a.createElement)(n.CheckboxControl,{label:"Debit Or Credit Button",help:(0,l.__)("Rendered Card Button on FrontEnd!","sonawp"),checked:o.card,onChange:e=>{r({card:e?"card":""})}}),(0,a.createElement)(n.CheckboxControl,{label:"Venmo Button",help:(0,l.__)("Rendered Venmo Button on FrontEnd!","sonawp"),checked:o.venmo,onChange:e=>{r({venmo:e?"venmo":""})}}))),(0,a.createElement)("div",(0,t.useBlockProps)(),(0,a.createElement)("div",{className:"sona-payments-product-wrapper sona-payments-product-wrapper-editable-paypal",id:o.blockID},(0,a.createElement)("div",{className:"sona-payments-product"},(0,a.createElement)("div",{className:"sona-payments-product-image"},(0,a.createElement)("p",null,(0,l.__)("Item Image","sonawp")),(0,a.createElement)(t.MediaUploadCheck,null,(0,a.createElement)(t.MediaUpload,{multiple:!0,gallery:!0,onSelect:e=>c(e),allowedTypes:["image"],accept:"image/*",value:o.images.map((e=>e.id)),render:e=>{let{open:t}=e;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(n.Button,{onClick:e=>{e.stopPropagation(),t()}},o.images.length>0?(0,l.__)("Edit Images","sonawp"):(0,l.__)("Select images","sonawp")))}})),(0,a.createElement)("p",null,(0,l.__)("You can select multiple images.","sonawp"))),(0,a.createElement)("div",{className:"sona-payments-details"},(0,a.createElement)("div",{className:"sona-payments-title"},(0,a.createElement)(n.TextControl,{name:"itemname",placeholder:(0,l.__)("Enter Product Name","sonawp"),value:o.title,type:"text",onChange:e=>p(e),required:!0})),(0,a.createElement)("div",{className:"sona-payments-description"},(0,a.createElement)(n.TextareaControl,{placeholder:(0,l.__)("Enter Product Description","sonawp"),value:o.description,rows:3,cols:50,onChange:e=>i(e)})),(0,a.createElement)("div",{className:"sona-payments-price"},(0,a.createElement)(n.TextControl,{label:(0,l.__)("Price","sonawp"),value:o.price,type:"number",min:0,step:"1",onChange:e=>d(e)})),(0,a.createElement)("div",{className:"sona-payments-purchase-box"},(0,a.createElement)(n.TextControl,{label:(0,l.__)("PayPal Email","sonawp"),value:o.payeeEmail,type:"email",onChange:e=>u(e)}),(0,a.createElement)("p",null,(0,l.__)("If empty, Global email (Dashboard > SonaWP > Settings > PayPal) will be used. Don't have an account?","sonawp"),(0,a.createElement)("a",{target:"_blank",href:"https://www.paypal.com/"},(0,l.__)("Create one on Paypal","sonawp"))))))))):o.title&&E&&o.price>0?(0,a.createElement)("div",(0,t.useBlockProps)(),(0,a.createElement)("div",{className:"sona-payments-product-wrapper sona-payments-product-wrapper-viewble-paypal",id:o.blockID},(0,a.createElement)("div",{className:"sona-payments-product"},o.images.length>0&&(0,a.createElement)("div",{className:"main-img"},o.images.length>0&&(0,a.createElement)("img",{src:o.images[0].url,alt:"",width:"100%"}),o.images.length>1&&(0,a.createElement)("div",{className:"sona-images"},(0,a.createElement)("span",{className:"arrow-icon"},(0,a.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,a.createElement)("path",{d:"M15 7L10 12L15 17",stroke:"#000000","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))),o.images.slice(1,4).map(((e,l)=>(0,a.createElement)("img",{key:l,src:e.url,alt:e.alt,width:"70",height:"70"}))),(0,a.createElement)("span",{className:"arrow-icon right"},(0,a.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,a.createElement)("path",{d:"M10 7L15 12L10 17",stroke:"#000000","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))))),(0,a.createElement)("div",{className:"sona-payments-details"},(0,a.createElement)("div",{className:"sona-payments-title"},(0,a.createElement)("h4",null,o.title)),(0,a.createElement)("div",{className:"sona-payments-description"},(0,a.createElement)("p",null,o.description)),(0,a.createElement)("div",{className:"sona-payments-price"},(0,a.createElement)("h5",{className:"sona-payments-currency"},y.map((e=>{if(e.value===o.currency)return e.symbol}))),(0,a.createElement)("h5",null,o.price>0?o.price:"")))))):(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",(0,t.useBlockProps)(),(0,a.createElement)("div",{className:"sona-payments-product-wrapper sona-payments-product-wrapper-editable-paypal",id:o.blockID},(0,a.createElement)("div",{className:"sona-payments-product"},(0,a.createElement)("div",{className:"sona-payments-product-image"},(0,a.createElement)("p",null,(0,l.__)("Item Image","sonawp")),(0,a.createElement)(t.MediaUploadCheck,null,(0,a.createElement)(t.MediaUpload,{multiple:!0,gallery:!0,onSelect:e=>c(e),allowedTypes:["image"],accept:"image/*",value:o.images.map((e=>e.id)),render:e=>{let{open:t}=e;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(n.Button,{onClick:e=>{e.stopPropagation(),t()}},o.images.length>0?(0,l.__)("Edit Images","sonawp"):(0,l.__)("Select images","sonawp")))}})),(0,a.createElement)("p",null,(0,l.__)("You can select multiple images.","sonawp"))),(0,a.createElement)("div",{className:"sona-payments-details"},(0,a.createElement)("div",{className:"sona-payments-title"},(0,a.createElement)(n.TextControl,{name:"itemname",placeholder:(0,l.__)("Enter Product Name","sonawp"),value:o.title,type:"text",onChange:e=>p(e)}),o.title?"":(0,a.createElement)("span",{className:"error"},(0,l.__)("*Name Required!","sonawp"))),(0,a.createElement)("div",{className:"sona-payments-description"},(0,a.createElement)(n.TextareaControl,{placeholder:(0,l.__)("Enter Product Description","sonawp"),value:o.description,rows:3,cols:50,onChange:e=>i(e)})),(0,a.createElement)("div",{className:"sona-payments-price"},(0,a.createElement)(n.TextControl,{label:(0,l.__)("Price","sonawp"),value:o.price,type:"number",step:"1",onChange:e=>d(e)}),o.price>0?"":(0,a.createElement)("span",{className:"error"},(0,l.__)("*Price must be greater than 0!","sonawp")),E?"":(0,a.createElement)("span",{className:"error"},(0,l.__)("HUF, JPY, TWD does not support decimals. ","sonawp"),(0,a.createElement)("a",{target:"_blank",href:"https://developer.paypal.com/reference/currency-codes/"},(0,l.__)("need more info?","sonawp")))),(0,a.createElement)("div",{className:"sona-payments-purchase-box"},(0,a.createElement)(n.TextControl,{label:(0,l.__)("PayPal Email","sonawp"),value:o.payeeEmail,type:"email",onChange:e=>u(e)}),(0,a.createElement)("p",null,(0,l.__)("If empty, Global email (Dashboard > SonaWP > Settings > PayPal) will be used. Don't have an account?","sonawp"),(0,a.createElement)("a",{target:"_blank",href:"https://www.paypal.com/"},(0,l.__)("Create one on Paypal","sonawp")))))))))}})}();